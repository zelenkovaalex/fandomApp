<body class="community" style="width: 100%;display: flex;flex-direction: column;min-height: 100vh;">

<div class="W_filters">
  <details class="O_details">
    <summary class="A_summery"><p>Показать фильтры</p></summary>
    <%= link_to "Сбросить фильтр", profiles_path, data: { turbo_frame: "profiles_container" }, class: "A_binFilters" %>
    <div style="display:flex; flex-direction:row; gap:1vw;">
      <div class="O_filterGropu">
        <div class="M_filterContent">
          <% @cities.each do |city| %>
            <%= link_to city, profiles_path(filter: "city-#{city}"), data: { turbo_frame: "profiles_container" }, class: "filter-link" %>
          <% end %>
        </div>
      </div>
      <div class="O_filterGropu">
        <div id="fandoms-list" class="M_filterContent">
          <% @fandoms.each do |fandom| %>
            <%= link_to fandom, profiles_path(filter: "fandom-#{fandom}"), data: { turbo_frame: "profiles_container" }, class: "filter-link" %>
          <% end %>
      </div>
    </div>
    </div>
  </details>
</div>

  <h1 class="A_heading profiles">авторы хитов</h1>
  <!-- Один большой контейнер для всех профилей -->
  <%= turbo_frame_tag "profiles_container" do %>
    <div class="W_wrapprof">
      <% @profiles.each do |profile| %>
        <div class="W_profileShow">
          <%= render 'profiles/profileShow', profile: profile %>
        </div>
      <% end %>
    </div>
  <% end %>
</body>
